<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Upload</title>
    <link rel="stylesheet" href="css/Main.css">
    <link rel="stylesheet" href="css/Upload.css">
    <div id="topAnchor">
        <ul class="nav">
            <img src="../images/logo.jpg" width="31.2" height="31.2" alt="...">
            <li><a href="Home.html">Home</a></li>
            <li><a href="Browser.html">Browser</a></li>
            <li><a href="Search.html">Search</a></li>
        </ul>
    </div>
    <div class="dropdown">
        <button class="dropButton">  My Account ▼</button>
        <div class="dropdown-content">
            <a href="Upload.html"><img src="../images/Upload.jpg" width="30" height="30" alt="...">Upload</a>
            <a href="My_Photo.html"><img src="../images/My_Photo.png" width="30" height="30" alt="...">My Photo</a>
            <a href="My_Favourite.html"><img src="../images/Favor.jpg" width="30" height="30" alt="...">My Favourite</a>
            <a href="../index.html"><img src="../images/Log_in.png" width="30" height="30" alt="...">Log in</a>
        </div>
    </div>
</head>
<body>
<br>
<br>
<div style="border: 1px solid black;margin:50px 300px;">
    <h1>Upload</h1>
    <script type="text/javascript">

    function ProcessFile(e) {

        const reader = new FileReader();
        const file = document.getElementById('file').files[0];

        if (file) {


            reader.onload = function (event) {

                const txt = event.target.result;


                const img = document.createElement("img");

                img.src = txt;//将图片base64字符串赋值给img的src

// console.log(txt);

                document.getElementById("result").appendChild(img);

            };

        }

        reader.readAsDataURL(file);

    }


    function contentLoaded() {

        document.getElementById('file').addEventListener('change',

            ProcessFile, false);

    }


    window.addEventListener("DOMContentLoaded", contentLoaded, false);

</script>
    <label><span class="label">请选取一个图像文件:</span> <input type="file" id="file" name="file"/></label>
    <div id="result" style="margin-left: 470px"></div>
    <label><span class="label">Title:</span>
            <input type="text" required>
        </label><br>
    <label><span class="label">Description:</span>
            <input type="text" required>
        </label><br>
    <label><span class="label">Country:</span>
            <input type="text" required>
        </label><br>
    <label><span class="label">City:</span>
            <input type="text" required>
        </label><br>
    <input type="submit" value="Upload" name="continue" onclick="location.href='My_Photo.html';alert('Uploaded')" class="submit"><br>

</div>
    <footer id="footer">
        <p>@肥仔阿亮</p>
        <p>Email:19302010061@fudan.edu.cn</p>
        <p>Tel:15901984704</p>
    </footer>
</body>
</html>